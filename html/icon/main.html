<div ng-include src="'html/top_menu_admin.html'"></div>
<div class="row form-group scrollable-default" style="overflow-y: auto;  padding-bottom: 10vh;" >
	<div class="col-md-12 col-xs-12">
		
		<div class="page-header text-center"><h3>จัดการ Icon</h3></div>

		<div ng-show="PAGE == 'UPDATE'">
			<div class="row form-group">
				<label class="col-lg-1 form-control-static">
					ชื่อ
				</label>
				<div class="col-lg-3">
					<input class="form-control" ng-model=Data.icon_name>
				</div>
			</div>
			<div class="row form-group">
				<div class="col-lg-10 col-lg-offset-1">
					<div class="row form-group">
						<label class="col-lg-1 col-md-1  col-sm-1 form-control-static">
							&nbsp;
						</label>
						<label class="col-lg-1 col-md-1  col-sm-2 form-control-static">
							ลำดับ
						</label>
						<label class="col-lg-3 col-md-3  col-sm-4 form-control-static">
							รายละเอียด
						</label>
						<label class="col-lg-2 col-md-2  col-sm-2 form-control-static">
							คะแนน
						</label>
						<label class="col-lg-1 col-md-1  col-sm-2 form-control-static">
							 ไฟล์
						</label>
					</div>
					<div class="row form-group" ng-repeat="data in Data.choice_icon_detail">
						<label class="col-lg-1 col-md-1 col-sm-1 form-control-static">
							<button class="btn btn-danger btn-sm" ng-click="removeIcon(data.id, $index)"><span class="glyphicon glyphicon-trash"></span></button>
						</label>
						<label class="col-lg-1 col-md-1 col-sm-2 form-control-static">
							รูปที่  {{ $index + 1 }}
						</label>
						<div class="col-lg-3 col-md-3 col-sm-4">
							<input class="form-control" ng-model="data.icon_description" placeholder="รายละเอียด..">
						</div>
						<div class="col-lg-2 col-md-2 col-sm-2">
							<input class="form-control" ng-model="data.points" placeholder="คะแนน..">
						</div>
						<div class="col-lg-1 col-md-1 col-sm-2">
							 <button class="btn btn-default" ngf-select ng-model="data.AttachFile" ngf-max-size="5MB"  ngf-model-invalid="data.AttachFile.invalidFile" accept="image/*" ngf-pattern="'.png,.jpg,.gif'">เลือก</button>
						</div>
						<div class="col-lg-2" ng-show="(data.img_path == null || data.img_path == '') || data.AttachFile != null">
							 
							 <img ngf-thumbnail="data.AttachFile" height="70">
						</div>
						<div class="col-lg-2" ng-show="(data.img_path != null && data.img_path != '') && data.AttachFile == null">
							 <img src="img/{{data.img_path}}" height="70">
						</div>
					</div>
					<div class="row form-group">
						<div class="col-lg-12">
							<button class="btn btn-success" ng-click="addIcon()"><span class="glyphicon glyphicon-plus"></span> เพิ่ม Icon</button>
						</div>
					</div>
				</div>
			</div>
			<div class="row form-group">
				<div class="col-lg-12 text-center">
					<button class="btn btn-default" ng-click="cancelUpdate('MAIN')"><span class="glyphicon glyphicon-arrow-left"></span> กลับหน้าหลัก</button>
					<button class="btn btn-primary" ng-click="saveData(Data)"><span class="glyphicon glyphicon-plus"></span> บันทึก</button>
				</div>
			</div>
		</div>
		<div ng-show="PAGE == 'MAIN'">
			<div class="row form-group">
				<div class="col-lg-12">
					<div class="table-responsive">
						<table class="table table-striped table-bordered table-hover">
							<caption>
								<button class="btn btn-primary" ng-click="create()"><span class="glyphicon glyphicon-plus"></span> เพิ่มชุด Icon</button>
							</caption>
							<thead>
								<tr>
									<th>ชื่อ</th>
									<th>จัดการ</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="data in DataList">
									<td>
										{{data.icon_name }}
									</td>
									<td>
										<button class="btn btn-default" ng-click="update(data)"><span class="glyphicon glyphicon-edit"></span></button>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	
</div>
