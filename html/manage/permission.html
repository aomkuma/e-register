<div ng-include src="'html/top_menu.html'"></div>
	<div class="row">
		<div class="col-lg-5" style="margin-top: 0px;"><div id='content'><h2 class='topic'>จัดการบัญชีผู้ใช้งาน</h2></div></div>
	</div>
	<div class="row form-group">
		<div class="col-lg-12">
			<form class="form-inline">
				<div class="form-group">
				    <label for="exampleInputName2">&nbsp; พื้นที่ : </label>
				    &nbsp; <select class="form-control" ng-model="condition.Region" ng-options="region.RegionID as region.RegionName for region in RegionList" ng-change="RegionName = region.RegionName">
						<option value="">ทั้งหมด</option>
					</select>
			  	</div>
			  	<div class="form-group">
				    <label for="exampleInputName2">&nbsp; สำนัก/กอง/แผนก : </label>
				    &nbsp; <select class="form-control" ng-model="condition.Group" ng-options="dep.OrgID as dep.OrgName for dep in DepartmentList" ng-change="DepartmentName = dep.OrgName">
						<option value="">ทั้งหมด</option>
					</select>
			  	</div>
			  	<div class="form-group">
				    <input type="text" ng-model="condition.Username" class="form-control" placeholder="ชื่อ - สกุล">
			  	</div>
			  	<div class="form-group">
				    <button type="button" class="btn btn-primary"  ng-click="loadList(condition)"><span class="glyphicon glyphicon-search"></span> ค้นหา</button>
			  	</div>
			</form>
			
		</div>
	</div>
	<div class="row">
		<div class="col-lg-12">
			<div class="table-responsive">
				<!--<caption class=""><h3>{{DepartmentName}} พื้นที่ {{RegionName}}</h3></caption>-->
				<table class="table table-striped table-bordered table-hover">
					<thead>
						<tr>
							<th>ชื่อ - สกุล</th>
							<th>พื้นที่</th>
							<th>ผู้ดูแลระบบสูงสุด</th>
							<th>ผู้ดูแลบัญชีผู้ใช้งาน</th>
							<th>ผู้ดูแลห้องประชุม</th>
							<th>ผู้ดูแลยานพาหนะ</th>
							<th>ผู้ดูแลอุปกรณ์</th>
							<th>ผู้ดูแลข่าว</th>
							<th>ผู้ดูแลข่าวและอนุมัติ</th>
							<th>ผู้ดูแลแจ้งซ่อม</th>
							<th>ผู้ดูแลลิ้งค์</th>
							<th>ผู้ดูแลสมุดโทรศัพท์ภายนอก</th>
							<th>ผู้ดูแลปฏิทิน</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="data in DataList">
							
							<td>
								{{data.FirstName}}&nbsp;{{data.LastName}}
							</td>
							<td>
								{{data.RegionName}}
							</td>
							<td>
								<input type="checkbox" ng-model="data.SuperAdmin" ng-true-value="0" ng-false-value="-1" ng-click="setPermission($index, data, 'SuperAdmin')">
							</td>
							<td>
								<input type="checkbox" ng-model="data.PermissionAdmin" ng-true-value="1" ng-false-value="-1" ng-click="setPermission($index, data, 'PermissionAdmin')" ng-disabled="data.SuperAdmin == 0">
							</td>
							<td>
								<input type="checkbox" ng-model="data.RoomAdmin" ng-true-value="2" ng-false-value="-1" ng-click="setPermission($index, data, 'RoomAdmin')" ng-disabled="data.SuperAdmin == 0">
							</td>
							<td>
								<input type="checkbox" ng-model="data.CarAdmin" ng-true-value="3" ng-false-value="-1" ng-click="setPermission($index, data, 'CarAdmin')" ng-disabled="data.SuperAdmin == 0">
							</td>
							<td>
								<input type="checkbox" ng-model="data.DeviceAdmin" ng-true-value="4" ng-false-value="-1" ng-click="setPermission($index, data, 'DeviceAdmin')" ng-disabled="data.SuperAdmin == 0">
							</td>
							<td>
								<input type="checkbox" ng-model="data.NewsAdmin" ng-true-value="5" ng-false-value="-1" ng-click="setPermission($index, data, 'NewsAdmin')" ng-disabled="data.SuperAdmin == 0">
							</td>
							<td>
								<input type="checkbox" ng-model="data.NewsApproveAdmin" ng-true-value="6" ng-false-value="-1" ng-click="setPermission($index, data, 'NewsApproveAdmin')" ng-disabled="data.SuperAdmin == 0">
							</td>
							<td>
								<input type="checkbox" ng-model="data.RepairAdmin" ng-true-value="7" ng-false-value="-1" ng-click="setPermission($index, data, 'RepairAdmin')" ng-disabled="data.SuperAdmin == 0" ng-disabled="data.SuperAdmin == 0">
							</td>
							<td>
								<input type="checkbox" ng-model="data.LinkAdmin" ng-true-value="8" ng-false-value="-1" ng-click="setPermission($index, data, 'LinkAdmin')" ng-disabled="data.SuperAdmin == 0" ng-disabled="data.SuperAdmin == 0">
							</td>
							<td>
								<input type="checkbox" ng-model="data.ExPhoneBookAdmin" ng-true-value="9" ng-false-value="-1" ng-click="setPermission($index, data, 'ExPhoneBookAdmin')" ng-disabled="data.SuperAdmin == 0" ng-disabled="data.SuperAdmin == 0">
							</td>
							<td>
								<input type="checkbox" ng-model="data.CalendarAdmin" ng-true-value="10" ng-false-value="-1" ng-click="setPermission($index, data, 'CalendarAdmin')" ng-disabled="data.SuperAdmin == 0" ng-disabled="data.SuperAdmin == 0">
							</td>
						</tr>
					</tbody>
				</table>
				<div class="col-lg-12" style="text-align:center;" ng-show="tableLoad"><img src="img/ellipsis.gif"></div>
			</div>
		</div>
	</div>
<div ng-include src="'html/footer.html'"></div>