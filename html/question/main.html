<div ng-include src="'html/top_menu_admin.html'"></div>
<div class="row form-group scrollable-default" style="overflow-y: auto;  padding-bottom: 10vh;" >
	<div class="col-md-12 col-xs-12">
		
		<div class="page-header text-center"><h3>จัดการปีแบบสอบถาม</h3></div>

		<div ng-show="PAGE == 'UPDATE'">
			<div class="row form-group">
				<label class="col-lg-1 form-control-static">
					ปี
				</label>
				<div class="col-lg-3">
					<select class="form-control" ng-model="Data.years" ng-options="data.yearValue as data.yearValue for data in YearList" ng-change="checkDuplicateData(Data.years)">
						<option value="">กรุณาเลือก..</option>
					</select>
					<span style="color: red;">{{ShowALert}}</span>
				</div>
			</div>
			<div class="row form-group">
				<div class="col-lg-12 text-center">
					<button class="btn btn-default" ng-click="cancelUpdate('MAIN')"><span class="glyphicon glyphicon-arrow-left"></span> กลับหน้าหลัก</button>
					<button class="btn btn-primary" ng-click="saveData(Data)" ng-disabled="(Data.years == null || Data.years == '') ||  ShowALert != ''"><span class="glyphicon glyphicon-plus"></span> บันทึก</button>
				</div>
			</div>
		</div>
		<div ng-show="PAGE == 'MAIN'">
			<div class="row form-group">
				<div class="col-lg-12">
					<div class="table-responsive">
						<table class="table table-striped table-bordered table-hover">
							<caption>
								<button class="btn btn-primary" ng-click="createQuestionYear()"><span class="glyphicon glyphicon-plus"></span> เพิ่มปีแบบสอบถาม</button>
							</caption>
							<thead>
								<tr>
									<th>ปี</th>
									<th>จัดการ</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="data in DataList">
									<td>
										{{data.years }}
									</td>
									<td>
										<a class="btn btn-default" href="#/question-detail/{{data.id}}"><span class="glyphicon glyphicon-edit"></span> ดูข้อมูลแบบสอบถาม</a>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	
</div>
