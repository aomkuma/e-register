<div ng-include src="'html/top_menu_admin.html'"></div>
<div class="row form-group scrollable-default" style="padding-bottom: 10vh;" >
	<div class="col-md-12 col-xs-12">
		<div class="row form-group">
			<div class="col-lg-12">
				<button class="btn btn-default" ng-click="backPage()"><span class="glyphicon glyphicon-arrow-left"></span> กลับหน้าหลัก</button>
			</div>
		</div>
		<div class="page-header text-center"><h3>จัดการแบบสอบถาม ปี {{QuestionYear.years}}</h3></div>

		<div ng-show="PAGE == 'UPDATE-SECTION'">
			<div class="row form-group">
				<label class="col-lg-1 form-control-static">
					ปี
				</label>
				<div class="col-lg-3">
					<select class="form-control" ng-model="Data.years" ng-options="data.yearValue as data.yearValue for data in YearList" ng-change="checkDuplicateData(Data.years)">
						<option value="">กรุณาเลือก..</option>
					</select>
					<span style="color: red;">{{ShowALert}}</span>
				</div>
			</div>
			<div class="row form-group">
				<div class="col-lg-12 text-center">
					<button class="btn btn-default" ng-click="cancelUpdate('MAIN')"><span class="glyphicon glyphicon-arrow-left"></span> กลับหน้าหลัก</button>
					<button class="btn btn-primary" ng-click="saveData(Data)" ng-disabled="(Data.years == null || Data.years == '') ||  ShowALert != ''"><span class="glyphicon glyphicon-plus"></span> บันทึก</button>
				</div>
			</div>
		</div>
		<div ng-show="PAGE == 'MAIN'">
			<div class="row form-group">
				<div class="col-lg-12">
					<h3>หมวดหมูแบบสอบถาม</h3>
				</div>
			</div>

			<div class="row form-group">
				<label class="col-lg-2 form-control-static">
					หมวดหมู่
				</label>
				<div class="col-lg-3">
					<input class="form-control" ng-model="Data.section">
				</div>
				<div class="col-lg-1">
					<button class="btn btn-primary" ng-click="saveData(Data)"><span class="glyphicon glyphicon-floppy-disk"></span> บันทึก</button>
				</div>
			</div>

			<div class="row form-group">
				<div class="col-lg-12">
					<div class="table-responsive">
						<table class="table table-striped table-bordered table-hover">
							<caption>
								<button class="btn btn-primary" ng-click="createSection()"><span class="glyphicon glyphicon-plus"></span> เพิ่มหมวดหมู่</button>
							</caption>
							<thead>
								<tr>
									<th>ชื่อหมวดหมู่</th>
									<th>จัดการ</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="data in DataList">
									<td>
										{{data.section }}
									</td>
									<td>
										<button class="btn btn-default" ng-click="updateSection(data)""><span class="glyphicon glyphicon-edit"></span> แก้ไข</button>
										<a class="btn btn-default" href="#/question-data/{{data.id}}"><span class="glyphicon glyphicon-search"></span> ดูแบบสอบถาม</a>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	
</div>
