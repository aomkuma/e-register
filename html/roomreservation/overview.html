<div ng-include src="'html/top_menu.html'"></div>
<div class="row">
    <div class="col-lg-12">
        <div class="row">
            <div class="col-lg-5"  style="margin-top: 0px;"><div id='content'><h2 class='topic'>ตารางการจองห้องประชุม</h2></div>
            </div>
            <div class="row visible-lg visible-md" style="margin-top: 0px; text-align: center;">
                <div class="col-lg-12 col-lg-offset-1 col-xs-12  col-xs-offset-1" style="text-align: center;">
                    <div class="col-lg-1 col-xs-1  date_rang_block default_bg_color" style="text-align: right;   color: #FFF; width:5%; height: 100px;"><h4><a ng-click="setDateRange(2)"  style="color: #FFF;"><</a></h4></div>
                    <div class="col-lg-1 col-xs-1  date_rang_block default_bg_color"  style="width: 10%;  height: 100px;" ng-repeat="date in dateRangeDisplay"><h4><a ng-class="{active_date:$index == 3,normal_date:$index != 3}" ng-click="setDateRange($index)">{{date}}</a></h4></div>
                    <div class="col-lg-1 col-xs-1  date_rang_block default_bg_color" style="text-align: left; width:5%;  height: 100px;"><h4><a ng-click="setDateRange(4)"  style="color: #FFF;">&gt;</a></h4></div>
                </div>
            </div>
            <div class="row visible-xs visible-sm" style="margin-top: 0px; text-align: center;">
                <div class="col-lg-12 col-xs-12 " style="text-align: center; margin-left: 12px;">
                    <div class="col-lg-1 col-xs-1  date_rang_block default_bg_color" style="text-align: right;   color: #FFF; width:4.5%; height: 100px;"><h4><a ng-click="setDateRange(2)"  style="color: #FFF;"><</a></h4></div>
                    <div class="col-lg-10 col-xs-10  date_rang_block default_bg_color" ng-show="$index == 3"  style="  height: 100px;" ng-repeat="date in dateRangeDisplay"><h4><a class="normal_date" ng-click="setDateRange($index)">{{date}}</a></h4></div>
                    <div class="col-lg-1 col-xs-1  date_rang_block default_bg_color" style="text-align: left; width:4.5%;  height: 100px;"><h4><a ng-click="setDateRange(4)"  style="color: #FFF;">&gt;</a></h4></div>
                </div>
            </div>
        </div>

        
        <div class="row">
            <div class="col-lg-12">
                <uib-accordion close-others="oneAtATime">
                    <div uib-accordion-group class="panel custom_tabs" ng-repeat="region in RegionList" >
                      <uib-accordion-heading>
                        <a ng-click="loadReserveList(region.RegionID)" style="color: #FFF;">{{ region.RegionName }} <i class="pull-right glyphicon glyphicon-chevron-down"></i></a>
                      </uib-accordion-heading>
                        
                      <table class="table table-bordered" style="width: 100%; word-wrap:break-word; table-layout: fixed; font-size: 1em;">
                        <tr style="text-align: center; background-color: #B6DCDC;" class="hidden-xs">
                            <th width="18%">ห้อง</th>
                            <th style="text-align: center;color: #fff;">07:00</th>
                            <th style="text-align: center;color: #fff;">08:00</th>
                            <th style="text-align: center;color: #fff;">09:00</th>
                            <th style="text-align: center;color: #fff;">10:00</th>
                            <th style="text-align: center;color: #fff;">11:00</th>
                            <th style="text-align: center;color: #fff;">12:00</th>
                            <th style="text-align: center;color: #fff;">13:00</th>
                            <th style="text-align: center;color: #fff;">14:00</th>
                            <th style="text-align: center;color: #fff;">15:00</th>
                            <th style="text-align: center;color: #fff;">16:00</th>
                            <th style="text-align: center;color: #fff;">17:00</th>
                            <th style="text-align: center;color: #fff;">18:00</th>
                            <th style="text-align: center;color: #fff;">19:00</th>
                            <th style="text-align: center;color: #fff;">20:00</th>
                        </tr>
                        <tr style="text-align: center;" class="visible-xs">
                            <th width="18%">ห้อง</th>
                            <th>7</th>
                            <th>8</th>
                            <th>9</th>
                            <th>10</th>
                            <th>11</th>
                            <th>12</th>
                            <th>13</th>
                            <th>14</th>
                            <th>15</th>
                            <th>16</th>
                            <th>17</th>
                            <th>18</th>
                            <th>19</th>
                            <th>20</th>
                        </tr>
                        <tr ng-repeat="reserve in ReserveList">
                            <td><a ng-click="gotoBookingRoom(currentUser.UserID, reserve.RoomID, null, reserve.ReserveRoomID)" ng-disabled="currentUser.RegionID != region.RegionID">{{reserve.RoomName}}</a></td>
                            <!--<td ng-repeat="time in timeList" ng-class="getStatus(time, reserve.ReserveList, currentUser.UserID)"> 
                                <a style="text-decoration: none;" ng-click="gotoBookingRoom(currentUser.UserID, reserve.RoomID, time, reserve.ReserveList)"><span class="spn_status" title="{{getReserveInfo(time, reserve.ReserveList, reserve.CreateBy)}}" compile="getReserveInfoView(time, reserve.ReserveList, reserve.CreateBy)"></span></a>
                            </td>-->
                            <td ng-repeat="time in reserve.timeList" class="{{time.status}}" style="text-align: center;"> 
                                <a style="text-decoration: none;" ng-click="gotoBookingRoom(currentUser.UserID, reserve.RoomID, time.time, reserve.ReserveList)"><span class="spn_status" title="{{getReserveInfo(time, reserve.ReserveList, reserve.CreateBy)}}">View</span></a>
                            </td>
                            <!--<td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>-->
                        </tr>
                      </table>
                    </div>
                </uib-accordion>
            </div>
        </div>
                
    </div>
</div>
<div ng-include src="'html/footer.html'"></div>
<style>
    .date_rang_block {
        border:#eee solid 1px;
        pading-top : 0px;
    }
    .panel-body{
        background-color:#FFF;
        color : #000;
    }
    .reserve_approved{
        background-color: #A8E671;
        text-align: center;
    }
    .reserve_waiting{
        background-color: #F3F376;
        text-align: center;
    }
    .reserve_unvailable{
        background-color: #FF5C5C;
        color:#FFF;
        text-align: center;
    }
    .spn_status{
        color: #FFF;
    }
    h4 {
        padding-top: 10px;
    }
    
    .table-bordered td, .table-bordered th{
        border-color: #4CC6C6 !important;
    }
    .active_date{
        color:yellow;
        font-size: 1.4em;
        font-weight: bolder;
    }
    .normal_date{
        color:#FFF;
    }
</style>